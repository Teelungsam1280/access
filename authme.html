<!doctype html>
<html lang="en">

<head>
  <script type="text/javascript" src="https://identity.netlify.com/v1/netlify-identity-widget.js"></script>
  <script src="//cdn.jsdelivr.net/npm/gotrue-js@0.9.25/lib/index.min.js"></script>
<!-- Begin Inspectlet Asynchronous Code -->
<script type="text/javascript">
(function() {
window.__insp = window.__insp || [];
__insp.push(['wid', 1709244756]);
var ldinsp = function(){
if(typeof window.__inspld != "undefined") return; window.__inspld = 1; var insp = document.createElement('script'); insp.type = 'text/javascript'; insp.async = true; insp.id = "inspsync"; insp.src = ('https:' == document.location.protocol ? 'https' : 'http') + '://cdn.inspectlet.com/inspectlet.js?wid=1709244756&r=' + Math.floor(new Date().getTime()/3600000); var x = document.getElementsByTagName('script')[0]; x.parentNode.insertBefore(insp, x); };
setTimeout(ldinsp, 0);
})();
</script>
<script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
<link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/gh/google/material-design-lite@1.3.0/material.min.css">
<script>
  (adsbygoogle = window.adsbygoogle || []).push({
    google_ad_client: "ca-pub-4867797789380537",
    enable_page_level_ads: true
  });
</script>
<!-- End Inspectlet Asynchronous Code -->

  <meta charset="utf-8">
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
    integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
    crossorigin="anonymous"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/2.3.3/umd/popper.min.js"
    integrity="sha256-c1uSn1f61GqTIIVhdV3jCb9sO38lvhpsIAJC2kLp1MY="
    crossorigin="anonymous"></script>
  <meta name="author" content="">
  <link rel="icon" href="images/logo.png">
  <link rel="manifest" href="manifest.json">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css"
    integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
  <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js"
    integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy"
    crossorigin="anonymous"></script>
  <script async src="https://www.googletagmanager.com/gtag/js?id=UA-123568344-1"></script>
  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'UA-123568344-1');
  </script>


  <script>
    //GOOGLE TAG MANAGER + OPTIMIZE + A LITE CAPTHCA SYSTEM + GA + GAINSIGHTS
    !function () {var analytics = window.analytics = window.analytics || []; if (!analytics.initialize) if (analytics.invoked) window.console && console.error && console.error("Segment snippet included twice."); else {analytics.invoked = !0; analytics.methods = ["trackSubmit", "trackClick", "trackLink", "trackForm", "pageview", "identify", "reset", "group", "track", "ready", "alias", "debug", "page", "once", "off", "on"]; analytics.factory = function (t) { return function () { var e = Array.prototype.slice.call(arguments); e.unshift(t); analytics.push(e); return analytics } }; for (var t = 0; t < analytics.methods.length; t++) { var e = analytics.methods[t]; analytics[e] = analytics.factory(e) } analytics.load = function (t, e) { var n = document.createElement("script"); n.type = "text/javascript"; n.async = !0; n.src = "https://cdn.segment.com/analytics.js/v1/" + t + "/analytics.min.js"; var a = document.getElementsByTagName("script")[0]; a.parentNode.insertBefore(n, a); analytics._loadOptions = e }; analytics.SNIPPET_VERSION = "4.1.0";analytics.load("gqbaHuIC0OV4lpzJiKF4pOdrJRIop365");analytics.page();(function (w, d, s, l, i) {w[ l ] = w[ l ] || []; w[ l ].push({'gtm.start':new Date().getTime(), event: 'gtm.js'}); var f = d.getElementsByTagName(s)[ 0 ],j = d.createElement(s), dl = l != 'dataLayer' ? '&l=' + l : ''; j.async = true; j.src ='https://www.googletagmanager.com/gtm.js?id=' + i + dl; f.parentNode.insertBefore(j, f);})(window, document, 'script', 'dataLayer', 'GTM-NPBCWPN');}}(); analytics.page(document.title);
  </script>

  <!-- FIREBASE SDK -->
  <script defer src="/__/firebase/5.3.1/firebase-app.js"></script>
  <!-- include only the Firebase features as you need -->
  <script defer src="/__/firebase/5.3.1/firebase.js"></script>
  <script defer src="/__/firebase/5.3.1/firebase-database.js"></script>
  <script defer src="/__/firebase/5.3.1/firebase-messaging.js"></script>
  <script defer src="/__/firebase/5.3.1/firebase-storage.js"></script>
  <!-- initialize the SDK after all desired features are loaded -->
  <script defer src="/__/firebase/init.js"></script>
  <script src="//cdn.jsdelivr.net/npm/jquery@3.4.1/dist/jquery.min.js"></script>

  <script src="https://www.gstatic.com/firebasejs/5.3.1/firebase.js"></script>
  <script async="" defer="" src="//survey.g.doubleclick.net/async_survey?site=4kgjzjutdzpmf3sz3zkzfpe4x4"></script>
  <!-- The core Firebase JS SDK is always required and must be listed first -->

  <!-- TODO: Add SDKs for Firebase products that you want to use
       https://firebase.google.com/docs/web/setup#config-web-app -->

  <script>
    // Your web app's Firebase configuration
    var firebaseConfig = {
      apiKey: "AIzaSyBHB7H6L2TgZeDJKS4ENC_fkdWtS_99T_E",
      authDomain: "trapteam-cc.firebaseapp.com",
      databaseURL: "https://trapteam-cc.firebaseio.com",
      projectId: "trapteam-cc",
      storageBucket: "trapteam-cc.appspot.com",
      messagingSenderId: "150993996289",
      appId: "1:150993996289:web:1d4a60e0bd3fc7e0"
    };
    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
  </script>

  <script src="https://cdn.firebase.com/libs/firebaseui/3.1.1/firebaseui.js"></script>
  <link type="text/css" rel="stylesheet" href="https://cdn.firebase.com/libs/firebaseui/3.1.1/firebaseui.css" />

  <title>Log In - Access - Trap Team CC</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="description" content="">
  <meta name="author" content="">


  <!-- Bootstrap core CSS -->
  <link href="../../dist/css/bootstrap.min.css" rel="stylesheet">

  <!-- Custom styles for this template -->
  <link href="cover.css" rel="stylesheet">

</head>

<body class="text-center" style='padding-top:0px;padding-bottom:0px;'>
  <!-- FIREBASE STUFF -->
  <p id="load" style="display: none;">Firebase SDK Loading&hellip;</p>
  <script>
    document.addEventListener('DOMContentLoaded', function () {
      // // ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥
      // // The Firebase SDK is initialized and available here!
      //
      // firebase.auth().onAuthStateChanged(user => { });
      // firebase.database().ref('/path/to/ref').on('value', snapshot => { });
      // firebase.messaging().requestPermission().then(() => { });
      // firebase.storage().ref('/path/to/ref').getDownloadURL().then(() => { });
      //
      // // ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥ðŸ”¥

      try {
        let app = firebase.app();
        let features = ['auth', 'database', 'messaging', 'storage'].filter(feature => typeof app[feature] === 'function');
        document.getElementById('load').innerHTML = `Firebase SDK loaded with ${features.join(', ')}`;
      } catch (e) {
        console.error(e);
        document.getElementById('load').innerHTML = 'Error loading the Firebase SDK, check the console.';
      }
    });
  </script>

  <div class="cover-container d-flex w-100 h-100 p-3 mx-auto flex-column" style='margin-top:0px;'>
    <header class="masthead mb-auto" style='margin-bottom:0px;'>
      <div class="inner">
        <!-- //\cccess stuff/loader -->
              

      </div>
    </header>
<!-- AUTH CONTAINER -->
    <main role="main" class="inner cover" style='margin-top:0px;margin-bottom:0px;padding-bottom:0px;'>
      <div style='background-color: white;position:absolute;z-index:999999999999999999;border-radius:10px;color:black;padding-bottom:50px;width:500px; max-width:90%;  margin: auto;' class="form-signin cover-heading" id='emailpassform'>
      <img src="images/logo.png" width='20%'>
          <h3 class="masthead-brand" style='margin-bottom: 20px;text-align: center;width:100%;font-size:50px;'>Trap Team CC</h3>
          <hr style='visibility:hidden;'>
      <form class="form-signin expanda" >
  <img class="mb-4" src="/docs/4.3/assets/brand/bootstrap-solid.svg" alt="" width="72" height="72">
  <h1 class="h3 mb-3 font-weight-normal">Please sign in</h1>
  <label for="inputEmail" class="sr-only">Email address</label>
  <input type="email" id="inputEmail" class="form-control expanda" placeholder="Email address" required autofocus>
  <label for="inputPassword" class="sr-only">Password</label>
  <input type="password" id="inputPassword" class="form-control expanda" placeholder="Password" required>

</form>
<div class='authbtn'>
  <button type="" class='authbtn btn btn-primary btn-lg' id='authbtn' onclick='document.body.style.display="none";document.getElementById("spinnyer").style.display="block";'>Sign In</button>

</div>
    <button class='btn' onload='document.getElementById("socialformforttccnz").style.visibility = "hidden";' onclick='document.getElementById("socialformforttccnz").style.visibility = "visible"; document.getElementById("emailpassform").style.visibility = "hidden";'>More Ways to Sign In</button>
  <div class="inner">
      </div>
</div>
<div style='position:fixed;z-index:9999999999999999999;margin: auto;display:none;' class="form-signin cover-heading spinner" id='spinnyer'>

</div>
<section id='socialformforttccnz' style='background-color: white;border-radius:10px;color:black;padding-top: 20px;padding-bottom: 20px;max-width: 500px;margin-top:0px;'>
          <h3 class="masthead-brand" style='margin-bottom: 20px;'><img src="/accessbt/access.svg?alt=media" alt="//\ccess" width="40%"> <a>by Trap Team:<br> Log in to </a><img style="display:inline;" src="/accessbt/access.svg?alt=media" alt="//\ccess" width="40%"></h3>

      <button
          class="firebaseui-idp-button mdl-button mdl-js-button mdl-button--raised firebaseui-idp-twitter firebaseui-id-idp-button"
          data-provider-id="google.com" data-upgraded=",MaterialButton"  id='msauth'  style='margin-bottom: 15px;background-color:#00A4EF;'><span class="firebaseui-idp-icon-wrapper"><img
              class="firebaseui-idp-icon" alt="" 
              src="//4.bp.blogspot.com/-rC3Z3Fejo3Y/XIBfuf4gjpI/AAAAAAAAIdI/lSuGFJvlA701AmDafcD0LeeQ-jTrCDBygCK4BGAYYCw/s1600/microsoft%2Bicon%2Blogo%2B.png"></span><span
            class="firebaseui-idp-text firebaseui-idp-text-long">Sign in with Microsoft</span><span
            class="firebaseui-idp-text firebaseui-idp-text-short">Microsoft</span></button >
            <br>
            <button
          class="firebaseui-idp-button mdl-button mdl-js-button mdl-button--raised firebaseui-idp-github firebaseui-id-idp-button"
          data-provider-id="google.com" data-upgraded=",MaterialButton"  onclick='netlifyIdentity.open();' style='background-color:#F1502F'><span class="firebaseui-idp-icon-wrapper"><img
              class="firebaseui-idp-icon" alt="" 
              src="//git-scm.com/images/logos/downloads/Git-Icon-Black.png"></span><span
            class="firebaseui-idp-text firebaseui-idp-text-long">Sign in with Git</span><span
            class="firebaseui-idp-text firebaseui-idp-text-short">Git</span></button><br>
      <div id="firebaseui-auth-container"></div>
      <div id="loader">Loading...</div>

      <p class="lead">

      </p>
      </section>

    </main>

    <footer class="mastfoot mt-auto">
      

      <script type="text/javascript">
      document.getElementById("socialformforttccnz").style.visibility = "hidden";
      //AUTHSCRIPT
        // Initialize the FirebaseUI Widget using Firebase.
        var ui = new firebaseui.auth.AuthUI(firebase.auth());
        // The start method will wait until the DOM is loaded.

        var uiConfig = {
          callbacks: {
            signInSuccessWithAuthResult: function (authResult, redirectUrl) {
              // User successfully signed in.
              // Return type determines whether we continue the redirect automatically
              // or whether we leave that to developer to handle.
              return true;
            },
            uiShown: function () {
              // The widget is rendered.
              // Hide the loader.
              document.getElementById('loader').style.display = 'none';
            }
          },
          // Will use popup for IDP Providers sign-in flow instead of the default, redirect.
          signInFlow: 'popup',
            credentialHelper: firebaseui.auth.CredentialHelper.GOOGLE_YOLO,
          signInSuccessUrl: '/accessbt',
          signInOptions: [
            // Leave the lines as is for the providers you want to offer your users.
            firebase.auth.GoogleAuthProvider.PROVIDER_ID,
            //firebase.auth.FacebookAuthProvider.PROVIDER_ID,
            //firebase.auth.TwitterAuthProvider.PROVIDER_ID,
                        'microsoft.com',

            firebase.auth.PhoneAuthProvider.PROVIDER_ID,
                        firebase.auth.EmailAuthProvider.PROVIDER_ID

          ],
          // Terms of service url.
          tosUrl: 'licence.html',
          // Privacy policy url.
          privacyPolicyUrl: 'licence.html'
        };
                //var nui = new firebaseui.auth.AuthUI(firebase.auth());

        ui.start('#firebaseui-auth-container', uiConfig);

        function lasboto() {
          //THE MS AUTH
          var provider = new firebase.auth.OAuthProvider('microsoft.com');
          firebase.auth().signInWithPopup(provider)
            .then(function (result) {
              console.log("MS Auth Success");
            })
            .catch(function (error) {
              // Handle error.
              if (error.code == "auth/account-exists-with-different-credential") {
                alert("You already have an account here with us. Please sign in with another service (like Email/Password or Google) to connect this account. ");
              } else {
                console.log(error);
                alert("An Error Occured:");
                document.location.reload();
              }
              
            });
        }
        document.getElementById("msauth").addEventListener("click", lasboto);
        //ACTIVATE THE MS LINK

        firebase.auth().onAuthStateChanged(function (user) {
          //AUTO SIGNIN USERS - THE USER VARIABLE IS THE USER'S DATA, AND IS BLANK ON PRE-AUTH
            if (user) {
              document.location.href = '/app';
            } else {
              console.log("SIGN IN");
            }
          });
          function mailsend()  {
            //ABANDONED
            //BETA
            //DO NOT USE
            let email = prompt("Please Enter Your Email", 
                "");
                var actionCodeSettings = {
  // URL you want to redirect back to. The domain (www.example.com) for this
  // URL must be whitelisted in the Firebase Console.
  url: 'https://'+ "www.trapteamnz.tk" + '/auth.html',
  // This must be true.
  handleCodeInApp: true,
  android: {
    packageName: 'com.example.android',
    installApp: true,
    minimumVersion: '12'
  },
  dynamicLinkDomain: 'trapteamcc.page.link'
};
firebase.auth().sendSignInLinkToEmail(email, actionCodeSettings)
  .then(function() {
    // The link was successfully sent. Inform the user.
    // Save the email locally so you don't need to ask the user for it again
    // if they open the link on the same device.
    alert("Sent email to: " + email);
    window.localStorage.setItem('emailForSignIn', email);
  })
  .catch(function(error) {
    console.error(error);
    // Some error occurred, you can inspect the code: error.code
  });
          }
          function firefly() {
            let email = document.getElementById("inputEmail").value;
            let password = document.getElementById("inputPassword").value;
            firebase.auth().signInWithEmailAndPassword(email, password).catch(function(error) {
              // Handle Errors here.
               var errorCode = error.code;
               var errorMessage = error.message;
                // ...
                console.log(errorCode);
                firebase.auth().createUserWithEmailAndPassword(email, password).catch(function(error) {
                  // Handle Errors here.
                  var errorCode = error.code;
                  var errorMessage = error.message;
                  // ...
                  alert(errorMessage);
                });
            });
          }
          document.getElementById("authbtn").onclick = firefly;

      </script>
    </footer>
  </div>


  <!-- Bootstrap core JavaScript
    ================================================== -->
  <!-- Placed at the end of the document so the pages load faster -->
  <script src="https://code.jquery.com/jquery-3.3.1.slim.min.js"
    integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo"
    crossorigin="anonymous"></script>
  <script>window.jQuery || document.write('<script src="../../assets/js/vendor/jquery-slim.min.js"><\/script>')</script>
  <script src="../../assets/js/vendor/popper.min.js"></script>
  <script src="../../dist/js/bootstrap.min.js"></script>
  <script>
    // PWA

    // Add this below content to your HTML page, or add the js file to your page at the very top to register service worker

    // Check compatibility for the browser we're running this in
    if ("serviceWorker" in navigator) {
      if (navigator.serviceWorker.controller) {
        console.log("[PWA Builder] active service worker found, no need to register");
      } else {
        // Register the service worker
        navigator.serviceWorker
          .register("pwabuilder-sw.js", {
            scope: "./"
          })
          .then(function (reg) {
            console.log("[PWA Builder] Service worker has been registered for scope: " + reg.scope);
          });
      }
    }


    let deferredPrompt = null;

    window.addEventListener('beforeinstallprompt', (e) => {
      // Prevent Chrome 67 and earlier from automatically showing the prompt
      e.preventDefault();
      // Stash the event so it can be triggered later.
      deferredPrompt = e;
    });

    async function install() {
      if (deferredPrompt) {
        deferredPrompt.prompt();
        console.log(deferredPrompt)
        deferredPrompt.userChoice.then(function (choiceResult) {

          if (choiceResult.outcome === 'accepted') {
            console.log('Your PWA has been installed');
          } else {
            console.log('User chose to not install your PWA');
          }

          deferredPrompt = null;

        });


      }
    }

    install();
    function heightCheckHide() {
      if (window.innerHeight < 700) {
        document.getElementById("pagemenu").style.display = "none";
      } else {
                document.getElementById("pagemenu").style.display = "block";

      }
    }
    heightCheckHide();
    
    window.onresize = heightCheckHide();
        window.onresize = heightCheckHide;
        window.addEventListener("resize", heightCheckHide());
                window.addEventListener("resize", heightCheckHide);




    

  </script>
  <script src="//cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/js/bootstrap.min.js"></script>
    <script src="goture.js"></script>

</body>

</html>
